SURF STL ../OpenSCAD/city_block.stl

RUN_DIAGNOSTICS WITH_DETAILS WITH_SUBZONE_INFO
CHECK_SELF_INTERSECTIONS

RENAME_ZONE city_block.stl buildings

SPLIT_FLAG MARCH_FROM_POINT 1000 0 0
SPLIT_FLAG MARCH_FROM_POINT -1000 0 0
SPLIT_FLAG MARCH_FROM_POINT 0 1000 0
SPLIT_FLAG MARCH_FROM_POINT 0 -1000 0
SPLIT_FLAG MARCH_FROM_POINT 0 0 1000
SPLIT_FLAG MARCH_FROM_POINT 0 0 -1000

MOVE_TO_ZONE NAME right SUBZONES 6
MOVE_TO_ZONE NAME left SUBZONES 5
MOVE_TO_ZONE NAME ground SUBZONES 4
MOVE_TO_ZONE NAME top SUBZONES 3
MOVE_TO_ZONE NAME inlet SUBZONES 2
MOVE_TO_ZONE NAME outlet SUBZONES 1

SET_ZONE_BC ZONE_NAMES inlet BC PER1_A
SET_ZONE_BC ZONE_NAMES outlet BC PER1_B
SET_PERIODIC ZONES inlet outlet CART 160 0 0

SET_ZONE_BC ZONE_NAMES right BC PER2_A
SET_ZONE BC ZONE_NAMES left BC PER2_B
SET_PERIODIC ZONES right left CART 0 0 160

WRITE_SBIN geom_final.sbin

INTERACTIVE
